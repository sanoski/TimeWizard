{"dependencies":[{"name":"./isMinusZero.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":48,"index":48}}],"key":"+y5u/gL4DdKrgqnVkoqd1KksQ5g=","exportNames":["*"],"imports":1}},{"name":"./themeInfo.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":49},"end":{"line":2,"column":47,"index":96}}],"key":"H0XpsJdL53Zkmi3TrVyFnsy18HU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"addChildren\", {\n    enumerable: true,\n    get: function () {\n      return addChildren;\n    }\n  });\n  Object.defineProperty(exports, \"createTheme\", {\n    enumerable: true,\n    get: function () {\n      return createTheme;\n    }\n  });\n  Object.defineProperty(exports, \"createThemeWithPalettes\", {\n    enumerable: true,\n    get: function () {\n      return createThemeWithPalettes;\n    }\n  });\n  var _isMinusZeroMjs = require(_dependencyMap[0], \"./isMinusZero.mjs\");\n  var _themeInfoMjs = require(_dependencyMap[1], \"./themeInfo.mjs\");\n  const identityCache = /* @__PURE__ */new Map();\n  function createThemeWithPalettes(palettes, defaultPalette, definition, options, name, skipCache = !1) {\n    if (!palettes[defaultPalette]) throw new Error(`No pallete: ${defaultPalette}`);\n    const newDef = Object.assign({}, definition);\n    for (const key in definition) {\n      let val = definition[key];\n      if (typeof val == \"string\" && val[0] === \"$\") {\n        const [altPaletteName$, altPaletteIndex] = val.split(\".\"),\n          altPaletteName = altPaletteName$.slice(1),\n          parentName = defaultPalette.split(\"_\")[0],\n          altPalette = palettes[altPaletteName] || palettes[`${parentName}_${altPaletteName}`];\n        if (altPalette) {\n          const next = getValue(altPalette, +altPaletteIndex);\n          typeof next < \"u\" && (newDef[key] = next);\n        }\n      }\n    }\n    return createTheme(palettes[defaultPalette], newDef, options, name, skipCache);\n  }\n  function createTheme(palette, definition, options, name, skipCache = !1) {\n    const cacheKey = skipCache ? \"\" : JSON.stringify([name, palette, definition, options]);\n    if (!skipCache && identityCache.has(cacheKey)) return identityCache.get(cacheKey);\n    const theme = Object.assign({}, Object.fromEntries(Object.entries(definition).map(([key, offset]) => [key, getValue(palette, offset)])), options?.nonInheritedValues);\n    return (0, _themeInfoMjs.setThemeInfo)(theme, {\n      palette,\n      definition,\n      options,\n      name\n    }), cacheKey && identityCache.set(cacheKey, theme), theme;\n  }\n  const getValue = (palette, value) => {\n    if (!palette) throw new Error(\"No palette!\");\n    if (typeof value == \"string\") return value;\n    const max = palette.length - 1,\n      next = (value === 0 ? !(0, _isMinusZeroMjs.isMinusZero)(value) : value >= 0) ? value : max + value,\n      index = Math.min(Math.max(0, next), max);\n    return palette[index];\n  };\n  function addChildren(themes, getChildren) {\n    const out = Object.assign({}, themes);\n    for (const key in themes) {\n      const subThemes = getChildren(key, themes[key]);\n      for (const sKey in subThemes) out[`${key}_${sKey}`] = subThemes[sKey];\n    }\n    return out;\n  }\n});","lineCount":73,"map":[[7,2,56,0,"Object"],[7,8,56,0],[7,9,56,0,"defineProperty"],[7,23,56,0],[7,24,56,0,"exports"],[7,31,56,0],[8,4,56,0,"enumerable"],[8,14,56,0],[9,4,56,0,"get"],[9,7,56,0],[9,18,56,0,"get"],[9,19,56,0],[10,6,56,0],[10,13,56,9,"addChildren"],[10,24,56,20],[11,4,56,20],[12,2,56,20],[13,2,56,0,"Object"],[13,8,56,0],[13,9,56,0,"defineProperty"],[13,23,56,0],[13,24,56,0,"exports"],[13,31,56,0],[14,4,56,0,"enumerable"],[14,14,56,0],[15,4,56,0,"get"],[15,7,56,0],[15,18,56,0,"get"],[15,19,56,0],[16,6,56,0],[16,13,56,22,"createTheme"],[16,24,56,33],[17,4,56,33],[18,2,56,33],[19,2,56,0,"Object"],[19,8,56,0],[19,9,56,0,"defineProperty"],[19,23,56,0],[19,24,56,0,"exports"],[19,31,56,0],[20,4,56,0,"enumerable"],[20,14,56,0],[21,4,56,0,"get"],[21,7,56,0],[21,18,56,0,"get"],[21,19,56,0],[22,6,56,0],[22,13,56,35,"createThemeWithPalettes"],[22,36,56,58],[23,4,56,58],[24,2,56,58],[25,2,1,0],[25,6,1,0,"_isMinusZeroMjs"],[25,21,1,0],[25,24,1,0,"require"],[25,31,1,0],[25,32,1,0,"_dependencyMap"],[25,46,1,0],[26,2,2,0],[26,6,2,0,"_themeInfoMjs"],[26,19,2,0],[26,22,2,0,"require"],[26,29,2,0],[26,30,2,0,"_dependencyMap"],[26,44,2,0],[27,2,3,0],[27,8,3,6,"identityCache"],[27,21,3,19],[27,24,3,22],[27,39,3,37],[27,43,3,41,"Map"],[27,46,3,44],[27,47,3,45],[27,48,3,46],[28,2,4,0],[28,11,4,9,"createThemeWithPalettes"],[28,34,4,32,"createThemeWithPalettes"],[28,35,4,33,"palettes"],[28,43,4,41],[28,45,4,43,"defaultPalette"],[28,59,4,57],[28,61,4,59,"definition"],[28,71,4,69],[28,73,4,71,"options"],[28,80,4,78],[28,82,4,80,"name"],[28,86,4,84],[28,88,4,86,"skipCache"],[28,97,4,95],[28,100,4,98],[28,101,4,99],[28,102,4,100],[28,104,4,102],[29,4,5,2],[29,8,5,6],[29,9,5,7,"palettes"],[29,17,5,15],[29,18,5,16,"defaultPalette"],[29,32,5,30],[29,33,5,31],[29,35,5,33],[29,41,5,39],[29,45,5,43,"Error"],[29,50,5,48],[29,51,5,49],[29,66,5,64,"defaultPalette"],[29,80,5,78],[29,82,5,80],[29,83,5,81],[30,4,6,2],[30,10,6,8,"newDef"],[30,16,6,14],[30,19,6,14,"Object"],[30,25,6,14],[30,26,6,14,"assign"],[30,32,6,14],[30,37,7,7,"definition"],[30,47,7,17],[30,48,8,3],[31,4,9,2],[31,9,9,7],[31,15,9,13,"key"],[31,18,9,16],[31,22,9,20,"definition"],[31,32,9,30],[31,34,9,32],[32,6,10,4],[32,10,10,8,"val"],[32,13,10,11],[32,16,10,14,"definition"],[32,26,10,24],[32,27,10,25,"key"],[32,30,10,28],[32,31,10,29],[33,6,11,4],[33,10,11,8],[33,17,11,15,"val"],[33,20,11,18],[33,24,11,22],[33,32,11,30],[33,36,11,34,"val"],[33,39,11,37],[33,40,11,38],[33,41,11,39],[33,42,11,40],[33,47,11,45],[33,50,11,48],[33,52,11,50],[34,8,12,6],[34,14,12,12],[34,15,12,13,"altPaletteName$"],[34,30,12,28],[34,32,12,30,"altPaletteIndex"],[34,47,12,45],[34,48,12,46],[34,51,12,49,"val"],[34,54,12,52],[34,55,12,53,"split"],[34,60,12,58],[34,61,12,59],[34,64,12,62],[34,65,12,63],[35,10,13,8,"altPaletteName"],[35,24,13,22],[35,27,13,25,"altPaletteName$"],[35,42,13,40],[35,43,13,41,"slice"],[35,48,13,46],[35,49,13,47],[35,50,13,48],[35,51,13,49],[36,10,14,8,"parentName"],[36,20,14,18],[36,23,14,21,"defaultPalette"],[36,37,14,35],[36,38,14,36,"split"],[36,43,14,41],[36,44,14,42],[36,47,14,45],[36,48,14,46],[36,49,14,47],[36,50,14,48],[36,51,14,49],[37,10,15,8,"altPalette"],[37,20,15,18],[37,23,15,21,"palettes"],[37,31,15,29],[37,32,15,30,"altPaletteName"],[37,46,15,44],[37,47,15,45],[37,51,15,49,"palettes"],[37,59,15,57],[37,60,15,58],[37,63,15,61,"parentName"],[37,73,15,71],[37,77,15,75,"altPaletteName"],[37,91,15,89],[37,93,15,91],[37,94,15,92],[38,8,16,6],[38,12,16,10,"altPalette"],[38,22,16,20],[38,24,16,22],[39,10,17,8],[39,16,17,14,"next"],[39,20,17,18],[39,23,17,21,"getValue"],[39,31,17,29],[39,32,17,30,"altPalette"],[39,42,17,40],[39,44,17,42],[39,45,17,43,"altPaletteIndex"],[39,60,17,58],[39,61,17,59],[40,10,18,8],[40,17,18,15,"next"],[40,21,18,19],[40,24,18,22],[40,27,18,25],[40,32,18,30,"newDef"],[40,38,18,36],[40,39,18,37,"key"],[40,42,18,40],[40,43,18,41],[40,46,18,44,"next"],[40,50,18,48],[40,51,18,49],[41,8,19,6],[42,6,20,4],[43,4,21,2],[44,4,22,2],[44,11,22,9,"createTheme"],[44,22,22,20],[44,23,22,21,"palettes"],[44,31,22,29],[44,32,22,30,"defaultPalette"],[44,46,22,44],[44,47,22,45],[44,49,22,47,"newDef"],[44,55,22,53],[44,57,22,55,"options"],[44,64,22,62],[44,66,22,64,"name"],[44,70,22,68],[44,72,22,70,"skipCache"],[44,81,22,79],[44,82,22,80],[45,2,23,0],[46,2,24,0],[46,11,24,9,"createTheme"],[46,22,24,20,"createTheme"],[46,23,24,21,"palette"],[46,30,24,28],[46,32,24,30,"definition"],[46,42,24,40],[46,44,24,42,"options"],[46,51,24,49],[46,53,24,51,"name"],[46,57,24,55],[46,59,24,57,"skipCache"],[46,68,24,66],[46,71,24,69],[46,72,24,70],[46,73,24,71],[46,75,24,73],[47,4,25,2],[47,10,25,8,"cacheKey"],[47,18,25,16],[47,21,25,19,"skipCache"],[47,30,25,28],[47,33,25,31],[47,35,25,33],[47,38,25,36,"JSON"],[47,42,25,40],[47,43,25,41,"stringify"],[47,52,25,50],[47,53,25,51],[47,54,25,52,"name"],[47,58,25,56],[47,60,25,58,"palette"],[47,67,25,65],[47,69,25,67,"definition"],[47,79,25,77],[47,81,25,79,"options"],[47,88,25,86],[47,89,25,87],[47,90,25,88],[48,4,26,2],[48,8,26,6],[48,9,26,7,"skipCache"],[48,18,26,16],[48,22,26,20,"identityCache"],[48,35,26,33],[48,36,26,34,"has"],[48,39,26,37],[48,40,26,38,"cacheKey"],[48,48,26,46],[48,49,26,47],[48,51,26,49],[48,58,26,56,"identityCache"],[48,71,26,69],[48,72,26,70,"get"],[48,75,26,73],[48,76,26,74,"cacheKey"],[48,84,26,82],[48,85,26,83],[49,4,27,2],[49,10,27,8,"theme"],[49,15,27,13],[49,18,27,13,"Object"],[49,24,27,13],[49,25,27,13,"assign"],[49,31,27,13],[49,36,28,7,"Object"],[49,42,28,13],[49,43,28,14,"fromEntries"],[49,54,28,25],[49,55,28,26,"Object"],[49,61,28,32],[49,62,28,33,"entries"],[49,69,28,40],[49,70,28,41,"definition"],[49,80,28,51],[49,81,28,52],[49,82,28,53,"map"],[49,85,28,56],[49,86,28,57],[49,87,28,58],[49,88,28,59,"key"],[49,91,28,62],[49,93,28,64,"offset"],[49,99,28,70],[49,100,28,71],[49,105,28,76],[49,106,28,77,"key"],[49,109,28,80],[49,111,28,82,"getValue"],[49,119,28,90],[49,120,28,91,"palette"],[49,127,28,98],[49,129,28,100,"offset"],[49,135,28,106],[49,136,28,107],[49,137,28,108],[49,138,28,109],[49,139,28,110],[49,141,29,7,"options"],[49,148,29,14],[49,150,29,16,"nonInheritedValues"],[49,168,29,34],[49,169,30,3],[50,4,31,2],[50,11,31,9],[50,15,31,9,"setThemeInfo"],[50,28,31,21],[50,29,31,21,"setThemeInfo"],[50,41,31,21],[50,43,31,22,"theme"],[50,48,31,27],[50,50,31,29],[51,6,32,4,"palette"],[51,13,32,11],[52,6,33,4,"definition"],[52,16,33,14],[53,6,34,4,"options"],[53,13,34,11],[54,6,35,4,"name"],[55,4,36,2],[55,5,36,3],[55,6,36,4],[55,8,36,6,"cacheKey"],[55,16,36,14],[55,20,36,18,"identityCache"],[55,33,36,31],[55,34,36,32,"set"],[55,37,36,35],[55,38,36,36,"cacheKey"],[55,46,36,44],[55,48,36,46,"theme"],[55,53,36,51],[55,54,36,52],[55,56,36,54,"theme"],[55,61,36,59],[56,2,37,0],[57,2,38,0],[57,8,38,6,"getValue"],[57,16,38,14],[57,19,38,17,"getValue"],[57,20,38,18,"palette"],[57,27,38,25],[57,29,38,27,"value"],[57,34,38,32],[57,39,38,37],[58,4,39,2],[58,8,39,6],[58,9,39,7,"palette"],[58,16,39,14],[58,18,39,16],[58,24,39,22],[58,28,39,26,"Error"],[58,33,39,31],[58,34,39,32],[58,47,39,45],[58,48,39,46],[59,4,40,2],[59,8,40,6],[59,15,40,13,"value"],[59,20,40,18],[59,24,40,22],[59,32,40,30],[59,34,40,32],[59,41,40,39,"value"],[59,46,40,44],[60,4,41,2],[60,10,41,8,"max"],[60,13,41,11],[60,16,41,14,"palette"],[60,23,41,21],[60,24,41,22,"length"],[60,30,41,28],[60,33,41,31],[60,34,41,32],[61,6,42,4,"next"],[61,10,42,8],[61,13,42,11],[61,14,42,12,"value"],[61,19,42,17],[61,24,42,22],[61,25,42,23],[61,28,42,26],[61,29,42,27],[61,33,42,27,"isMinusZero"],[61,48,42,38],[61,49,42,38,"isMinusZero"],[61,60,42,38],[61,62,42,39,"value"],[61,67,42,44],[61,68,42,45],[61,71,42,48,"value"],[61,76,42,53],[61,80,42,57],[61,81,42,58],[61,85,42,62,"value"],[61,90,42,67],[61,93,42,70,"max"],[61,96,42,73],[61,99,42,76,"value"],[61,104,42,81],[62,6,43,4,"index"],[62,11,43,9],[62,14,43,12,"Math"],[62,18,43,16],[62,19,43,17,"min"],[62,22,43,20],[62,23,43,21,"Math"],[62,27,43,25],[62,28,43,26,"max"],[62,31,43,29],[62,32,43,30],[62,33,43,31],[62,35,43,33,"next"],[62,39,43,37],[62,40,43,38],[62,42,43,40,"max"],[62,45,43,43],[62,46,43,44],[63,4,44,2],[63,11,44,9,"palette"],[63,18,44,16],[63,19,44,17,"index"],[63,24,44,22],[63,25,44,23],[64,2,45,0],[64,3,45,1],[65,2,46,0],[65,11,46,9,"addChildren"],[65,22,46,20,"addChildren"],[65,23,46,21,"themes"],[65,29,46,27],[65,31,46,29,"getChildren"],[65,42,46,40],[65,44,46,42],[66,4,47,2],[66,10,47,8,"out"],[66,13,47,11],[66,16,47,11,"Object"],[66,22,47,11],[66,23,47,11,"assign"],[66,29,47,11],[66,34,48,7,"themes"],[66,40,48,13],[66,41,49,3],[67,4,50,2],[67,9,50,7],[67,15,50,13,"key"],[67,18,50,16],[67,22,50,20,"themes"],[67,28,50,26],[67,30,50,28],[68,6,51,4],[68,12,51,10,"subThemes"],[68,21,51,19],[68,24,51,22,"getChildren"],[68,35,51,33],[68,36,51,34,"key"],[68,39,51,37],[68,41,51,39,"themes"],[68,47,51,45],[68,48,51,46,"key"],[68,51,51,49],[68,52,51,50],[68,53,51,51],[69,6,52,4],[69,11,52,9],[69,17,52,15,"sKey"],[69,21,52,19],[69,25,52,23,"subThemes"],[69,34,52,32],[69,36,52,34,"out"],[69,39,52,37],[69,40,52,38],[69,43,52,41,"key"],[69,46,52,44],[69,50,52,48,"sKey"],[69,54,52,52],[69,56,52,54],[69,57,52,55],[69,60,52,58,"subThemes"],[69,69,52,67],[69,70,52,68,"sKey"],[69,74,52,72],[69,75,52,73],[70,4,53,2],[71,4,54,2],[71,11,54,9,"out"],[71,14,54,12],[72,2,55,0],[73,0,55,1],[73,3]],"functionMap":{"names":["<global>","createThemeWithPalettes","createTheme","Object.entries.map$argument_0","getValue","addChildren"],"mappings":"AAA;ACG;CDmB;AEC;yDCI,mDD;CFS;iBIC;CJO;AKC;CLS"},"hasCjsExports":false},"type":"js/module"}]}