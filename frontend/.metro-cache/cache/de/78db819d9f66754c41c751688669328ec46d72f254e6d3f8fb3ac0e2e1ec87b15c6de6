{"dependencies":[{"name":"./isMinusZero.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":48,"index":48}}],"key":"+y5u/gL4DdKrgqnVkoqd1KksQ5g=","exportNames":["*"],"imports":1}},{"name":"./themeInfo.mjs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":49},"end":{"line":2,"column":47,"index":96}}],"key":"H0XpsJdL53Zkmi3TrVyFnsy18HU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"addChildren\", {\n    enumerable: true,\n    get: function () {\n      return addChildren;\n    }\n  });\n  Object.defineProperty(exports, \"createTheme\", {\n    enumerable: true,\n    get: function () {\n      return createTheme;\n    }\n  });\n  Object.defineProperty(exports, \"createThemeWithPalettes\", {\n    enumerable: true,\n    get: function () {\n      return createThemeWithPalettes;\n    }\n  });\n  var _isMinusZeroMjs = require(_dependencyMap[0], \"./isMinusZero.mjs\");\n  var _themeInfoMjs = require(_dependencyMap[1], \"./themeInfo.mjs\");\n  const identityCache = /* @__PURE__ */new Map();\n  function createThemeWithPalettes(palettes, defaultPalette, definition, options, name, skipCache = !1) {\n    if (!palettes[defaultPalette]) throw new Error(`No pallete: ${defaultPalette}`);\n    const newDef = {\n      ...definition\n    };\n    for (const key in definition) {\n      let val = definition[key];\n      if (typeof val == \"string\" && val[0] === \"$\") {\n        const [altPaletteName$, altPaletteIndex] = val.split(\".\"),\n          altPaletteName = altPaletteName$.slice(1),\n          parentName = defaultPalette.split(\"_\")[0],\n          altPalette = palettes[altPaletteName] || palettes[`${parentName}_${altPaletteName}`];\n        if (altPalette) {\n          const next = getValue(altPalette, +altPaletteIndex);\n          typeof next < \"u\" && (newDef[key] = next);\n        }\n      }\n    }\n    return createTheme(palettes[defaultPalette], newDef, options, name, skipCache);\n  }\n  function createTheme(palette, definition, options, name, skipCache = !1) {\n    const cacheKey = skipCache ? \"\" : JSON.stringify([name, palette, definition, options]);\n    if (!skipCache && identityCache.has(cacheKey)) return identityCache.get(cacheKey);\n    const theme = {\n      ...Object.fromEntries(Object.entries(definition).map(([key, offset]) => [key, getValue(palette, offset)])),\n      ...options?.nonInheritedValues\n    };\n    return (0, _themeInfoMjs.setThemeInfo)(theme, {\n      palette,\n      definition,\n      options,\n      name\n    }), cacheKey && identityCache.set(cacheKey, theme), theme;\n  }\n  const getValue = (palette, value) => {\n    if (!palette) throw new Error(\"No palette!\");\n    if (typeof value == \"string\") return value;\n    const max = palette.length - 1,\n      next = (value === 0 ? !(0, _isMinusZeroMjs.isMinusZero)(value) : value >= 0) ? value : max + value,\n      index = Math.min(Math.max(0, next), max);\n    return palette[index];\n  };\n  function addChildren(themes, getChildren) {\n    const out = {\n      ...themes\n    };\n    for (const key in themes) {\n      const subThemes = getChildren(key, themes[key]);\n      for (const sKey in subThemes) out[`${key}_${sKey}`] = subThemes[sKey];\n    }\n    return out;\n  }\n});","lineCount":80,"map":[[7,2,56,0,"Object"],[7,8,56,0],[7,9,56,0,"defineProperty"],[7,23,56,0],[7,24,56,0,"exports"],[7,31,56,0],[8,4,56,0,"enumerable"],[8,14,56,0],[9,4,56,0,"get"],[9,7,56,0],[9,18,56,0,"get"],[9,19,56,0],[10,6,56,0],[10,13,56,9,"addChildren"],[10,24,56,20],[11,4,56,20],[12,2,56,20],[13,2,56,0,"Object"],[13,8,56,0],[13,9,56,0,"defineProperty"],[13,23,56,0],[13,24,56,0,"exports"],[13,31,56,0],[14,4,56,0,"enumerable"],[14,14,56,0],[15,4,56,0,"get"],[15,7,56,0],[15,18,56,0,"get"],[15,19,56,0],[16,6,56,0],[16,13,56,22,"createTheme"],[16,24,56,33],[17,4,56,33],[18,2,56,33],[19,2,56,0,"Object"],[19,8,56,0],[19,9,56,0,"defineProperty"],[19,23,56,0],[19,24,56,0,"exports"],[19,31,56,0],[20,4,56,0,"enumerable"],[20,14,56,0],[21,4,56,0,"get"],[21,7,56,0],[21,18,56,0,"get"],[21,19,56,0],[22,6,56,0],[22,13,56,35,"createThemeWithPalettes"],[22,36,56,58],[23,4,56,58],[24,2,56,58],[25,2,1,0],[25,6,1,0,"_isMinusZeroMjs"],[25,21,1,0],[25,24,1,0,"require"],[25,31,1,0],[25,32,1,0,"_dependencyMap"],[25,46,1,0],[26,2,2,0],[26,6,2,0,"_themeInfoMjs"],[26,19,2,0],[26,22,2,0,"require"],[26,29,2,0],[26,30,2,0,"_dependencyMap"],[26,44,2,0],[27,2,3,0],[27,8,3,6,"identityCache"],[27,21,3,19],[27,24,3,22],[27,39,3,37],[27,43,3,41,"Map"],[27,46,3,44],[27,47,3,45],[27,48,3,46],[28,2,4,0],[28,11,4,9,"createThemeWithPalettes"],[28,34,4,32,"createThemeWithPalettes"],[28,35,4,33,"palettes"],[28,43,4,41],[28,45,4,43,"defaultPalette"],[28,59,4,57],[28,61,4,59,"definition"],[28,71,4,69],[28,73,4,71,"options"],[28,80,4,78],[28,82,4,80,"name"],[28,86,4,84],[28,88,4,86,"skipCache"],[28,97,4,95],[28,100,4,98],[28,101,4,99],[28,102,4,100],[28,104,4,102],[29,4,5,2],[29,8,5,6],[29,9,5,7,"palettes"],[29,17,5,15],[29,18,5,16,"defaultPalette"],[29,32,5,30],[29,33,5,31],[29,35,5,33],[29,41,5,39],[29,45,5,43,"Error"],[29,50,5,48],[29,51,5,49],[29,66,5,64,"defaultPalette"],[29,80,5,78],[29,82,5,80],[29,83,5,81],[30,4,6,2],[30,10,6,8,"newDef"],[30,16,6,14],[30,19,6,17],[31,6,7,4],[31,9,7,7,"definition"],[32,4,8,2],[32,5,8,3],[33,4,9,2],[33,9,9,7],[33,15,9,13,"key"],[33,18,9,16],[33,22,9,20,"definition"],[33,32,9,30],[33,34,9,32],[34,6,10,4],[34,10,10,8,"val"],[34,13,10,11],[34,16,10,14,"definition"],[34,26,10,24],[34,27,10,25,"key"],[34,30,10,28],[34,31,10,29],[35,6,11,4],[35,10,11,8],[35,17,11,15,"val"],[35,20,11,18],[35,24,11,22],[35,32,11,30],[35,36,11,34,"val"],[35,39,11,37],[35,40,11,38],[35,41,11,39],[35,42,11,40],[35,47,11,45],[35,50,11,48],[35,52,11,50],[36,8,12,6],[36,14,12,12],[36,15,12,13,"altPaletteName$"],[36,30,12,28],[36,32,12,30,"altPaletteIndex"],[36,47,12,45],[36,48,12,46],[36,51,12,49,"val"],[36,54,12,52],[36,55,12,53,"split"],[36,60,12,58],[36,61,12,59],[36,64,12,62],[36,65,12,63],[37,10,13,8,"altPaletteName"],[37,24,13,22],[37,27,13,25,"altPaletteName$"],[37,42,13,40],[37,43,13,41,"slice"],[37,48,13,46],[37,49,13,47],[37,50,13,48],[37,51,13,49],[38,10,14,8,"parentName"],[38,20,14,18],[38,23,14,21,"defaultPalette"],[38,37,14,35],[38,38,14,36,"split"],[38,43,14,41],[38,44,14,42],[38,47,14,45],[38,48,14,46],[38,49,14,47],[38,50,14,48],[38,51,14,49],[39,10,15,8,"altPalette"],[39,20,15,18],[39,23,15,21,"palettes"],[39,31,15,29],[39,32,15,30,"altPaletteName"],[39,46,15,44],[39,47,15,45],[39,51,15,49,"palettes"],[39,59,15,57],[39,60,15,58],[39,63,15,61,"parentName"],[39,73,15,71],[39,77,15,75,"altPaletteName"],[39,91,15,89],[39,93,15,91],[39,94,15,92],[40,8,16,6],[40,12,16,10,"altPalette"],[40,22,16,20],[40,24,16,22],[41,10,17,8],[41,16,17,14,"next"],[41,20,17,18],[41,23,17,21,"getValue"],[41,31,17,29],[41,32,17,30,"altPalette"],[41,42,17,40],[41,44,17,42],[41,45,17,43,"altPaletteIndex"],[41,60,17,58],[41,61,17,59],[42,10,18,8],[42,17,18,15,"next"],[42,21,18,19],[42,24,18,22],[42,27,18,25],[42,32,18,30,"newDef"],[42,38,18,36],[42,39,18,37,"key"],[42,42,18,40],[42,43,18,41],[42,46,18,44,"next"],[42,50,18,48],[42,51,18,49],[43,8,19,6],[44,6,20,4],[45,4,21,2],[46,4,22,2],[46,11,22,9,"createTheme"],[46,22,22,20],[46,23,22,21,"palettes"],[46,31,22,29],[46,32,22,30,"defaultPalette"],[46,46,22,44],[46,47,22,45],[46,49,22,47,"newDef"],[46,55,22,53],[46,57,22,55,"options"],[46,64,22,62],[46,66,22,64,"name"],[46,70,22,68],[46,72,22,70,"skipCache"],[46,81,22,79],[46,82,22,80],[47,2,23,0],[48,2,24,0],[48,11,24,9,"createTheme"],[48,22,24,20,"createTheme"],[48,23,24,21,"palette"],[48,30,24,28],[48,32,24,30,"definition"],[48,42,24,40],[48,44,24,42,"options"],[48,51,24,49],[48,53,24,51,"name"],[48,57,24,55],[48,59,24,57,"skipCache"],[48,68,24,66],[48,71,24,69],[48,72,24,70],[48,73,24,71],[48,75,24,73],[49,4,25,2],[49,10,25,8,"cacheKey"],[49,18,25,16],[49,21,25,19,"skipCache"],[49,30,25,28],[49,33,25,31],[49,35,25,33],[49,38,25,36,"JSON"],[49,42,25,40],[49,43,25,41,"stringify"],[49,52,25,50],[49,53,25,51],[49,54,25,52,"name"],[49,58,25,56],[49,60,25,58,"palette"],[49,67,25,65],[49,69,25,67,"definition"],[49,79,25,77],[49,81,25,79,"options"],[49,88,25,86],[49,89,25,87],[49,90,25,88],[50,4,26,2],[50,8,26,6],[50,9,26,7,"skipCache"],[50,18,26,16],[50,22,26,20,"identityCache"],[50,35,26,33],[50,36,26,34,"has"],[50,39,26,37],[50,40,26,38,"cacheKey"],[50,48,26,46],[50,49,26,47],[50,51,26,49],[50,58,26,56,"identityCache"],[50,71,26,69],[50,72,26,70,"get"],[50,75,26,73],[50,76,26,74,"cacheKey"],[50,84,26,82],[50,85,26,83],[51,4,27,2],[51,10,27,8,"theme"],[51,15,27,13],[51,18,27,16],[52,6,28,4],[52,9,28,7,"Object"],[52,15,28,13],[52,16,28,14,"fromEntries"],[52,27,28,25],[52,28,28,26,"Object"],[52,34,28,32],[52,35,28,33,"entries"],[52,42,28,40],[52,43,28,41,"definition"],[52,53,28,51],[52,54,28,52],[52,55,28,53,"map"],[52,58,28,56],[52,59,28,57],[52,60,28,58],[52,61,28,59,"key"],[52,64,28,62],[52,66,28,64,"offset"],[52,72,28,70],[52,73,28,71],[52,78,28,76],[52,79,28,77,"key"],[52,82,28,80],[52,84,28,82,"getValue"],[52,92,28,90],[52,93,28,91,"palette"],[52,100,28,98],[52,102,28,100,"offset"],[52,108,28,106],[52,109,28,107],[52,110,28,108],[52,111,28,109],[52,112,28,110],[53,6,29,4],[53,9,29,7,"options"],[53,16,29,14],[53,18,29,16,"nonInheritedValues"],[54,4,30,2],[54,5,30,3],[55,4,31,2],[55,11,31,9],[55,15,31,9,"setThemeInfo"],[55,28,31,21],[55,29,31,21,"setThemeInfo"],[55,41,31,21],[55,43,31,22,"theme"],[55,48,31,27],[55,50,31,29],[56,6,32,4,"palette"],[56,13,32,11],[57,6,33,4,"definition"],[57,16,33,14],[58,6,34,4,"options"],[58,13,34,11],[59,6,35,4,"name"],[60,4,36,2],[60,5,36,3],[60,6,36,4],[60,8,36,6,"cacheKey"],[60,16,36,14],[60,20,36,18,"identityCache"],[60,33,36,31],[60,34,36,32,"set"],[60,37,36,35],[60,38,36,36,"cacheKey"],[60,46,36,44],[60,48,36,46,"theme"],[60,53,36,51],[60,54,36,52],[60,56,36,54,"theme"],[60,61,36,59],[61,2,37,0],[62,2,38,0],[62,8,38,6,"getValue"],[62,16,38,14],[62,19,38,17,"getValue"],[62,20,38,18,"palette"],[62,27,38,25],[62,29,38,27,"value"],[62,34,38,32],[62,39,38,37],[63,4,39,2],[63,8,39,6],[63,9,39,7,"palette"],[63,16,39,14],[63,18,39,16],[63,24,39,22],[63,28,39,26,"Error"],[63,33,39,31],[63,34,39,32],[63,47,39,45],[63,48,39,46],[64,4,40,2],[64,8,40,6],[64,15,40,13,"value"],[64,20,40,18],[64,24,40,22],[64,32,40,30],[64,34,40,32],[64,41,40,39,"value"],[64,46,40,44],[65,4,41,2],[65,10,41,8,"max"],[65,13,41,11],[65,16,41,14,"palette"],[65,23,41,21],[65,24,41,22,"length"],[65,30,41,28],[65,33,41,31],[65,34,41,32],[66,6,42,4,"next"],[66,10,42,8],[66,13,42,11],[66,14,42,12,"value"],[66,19,42,17],[66,24,42,22],[66,25,42,23],[66,28,42,26],[66,29,42,27],[66,33,42,27,"isMinusZero"],[66,48,42,38],[66,49,42,38,"isMinusZero"],[66,60,42,38],[66,62,42,39,"value"],[66,67,42,44],[66,68,42,45],[66,71,42,48,"value"],[66,76,42,53],[66,80,42,57],[66,81,42,58],[66,85,42,62,"value"],[66,90,42,67],[66,93,42,70,"max"],[66,96,42,73],[66,99,42,76,"value"],[66,104,42,81],[67,6,43,4,"index"],[67,11,43,9],[67,14,43,12,"Math"],[67,18,43,16],[67,19,43,17,"min"],[67,22,43,20],[67,23,43,21,"Math"],[67,27,43,25],[67,28,43,26,"max"],[67,31,43,29],[67,32,43,30],[67,33,43,31],[67,35,43,33,"next"],[67,39,43,37],[67,40,43,38],[67,42,43,40,"max"],[67,45,43,43],[67,46,43,44],[68,4,44,2],[68,11,44,9,"palette"],[68,18,44,16],[68,19,44,17,"index"],[68,24,44,22],[68,25,44,23],[69,2,45,0],[69,3,45,1],[70,2,46,0],[70,11,46,9,"addChildren"],[70,22,46,20,"addChildren"],[70,23,46,21,"themes"],[70,29,46,27],[70,31,46,29,"getChildren"],[70,42,46,40],[70,44,46,42],[71,4,47,2],[71,10,47,8,"out"],[71,13,47,11],[71,16,47,14],[72,6,48,4],[72,9,48,7,"themes"],[73,4,49,2],[73,5,49,3],[74,4,50,2],[74,9,50,7],[74,15,50,13,"key"],[74,18,50,16],[74,22,50,20,"themes"],[74,28,50,26],[74,30,50,28],[75,6,51,4],[75,12,51,10,"subThemes"],[75,21,51,19],[75,24,51,22,"getChildren"],[75,35,51,33],[75,36,51,34,"key"],[75,39,51,37],[75,41,51,39,"themes"],[75,47,51,45],[75,48,51,46,"key"],[75,51,51,49],[75,52,51,50],[75,53,51,51],[76,6,52,4],[76,11,52,9],[76,17,52,15,"sKey"],[76,21,52,19],[76,25,52,23,"subThemes"],[76,34,52,32],[76,36,52,34,"out"],[76,39,52,37],[76,40,52,38],[76,43,52,41,"key"],[76,46,52,44],[76,50,52,48,"sKey"],[76,54,52,52],[76,56,52,54],[76,57,52,55],[76,60,52,58,"subThemes"],[76,69,52,67],[76,70,52,68,"sKey"],[76,74,52,72],[76,75,52,73],[77,4,53,2],[78,4,54,2],[78,11,54,9,"out"],[78,14,54,12],[79,2,55,0],[80,0,55,1],[80,3]],"functionMap":{"names":["<global>","createThemeWithPalettes","createTheme","Object.entries.map$argument_0","getValue","addChildren"],"mappings":"AAA;ACG;CDmB;AEC;yDCI,mDD;CFS;iBIC;CJO;AKC;CLS"},"hasCjsExports":false},"type":"js/module"}]}