{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":44,"index":44}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":45},"end":{"line":2,"column":60,"index":105}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"@tamagui/core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":106},"end":{"line":3,"column":48,"index":154}}],"key":"J2MTUHqo8A0OU3IucJlnUzM80b4=","exportNames":["*"],"imports":1}},{"name":"../tamagui.config","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":155},"end":{"line":4,"column":46,"index":201}}],"key":"IcrpRwSF8rnLd7xjZTPryLiYGYw=","exportNames":["*"],"imports":1}},{"name":"react-native-safe-area-context","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":202},"end":{"line":5,"column":66,"index":268}}],"key":"XjdTKvCUWX6CbQzg5fSDHG/WgHk=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":341},"end":{"line":7,"column":69,"index":410}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/database","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":411},"end":{"line":8,"column":42,"index":453}}],"key":"yl1sL1lr2qnlFnZ8fvx49wAhZ34=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/_layout.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return RootLayout;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoRouter = require(_dependencyMap[1], \"expo-router\");\n  var _tamaguiCore = require(_dependencyMap[2], \"@tamagui/core\");\n  var _tamaguiConfig = require(_dependencyMap[3], \"../tamagui.config\");\n  var tamaguiConfig = _interopDefault(_tamaguiConfig);\n  var _reactNativeSafeAreaContext = require(_dependencyMap[4], \"react-native-safe-area-context\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[5], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsActivityIndicator = require(_dependencyMap[6], \"react-native-web/dist/exports/ActivityIndicator\");\n  var ActivityIndicator = _interopDefault(_reactNativeWebDistExportsActivityIndicator);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[7], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[8], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesDatabase = require(_dependencyMap[9], \"../services/database\");\n  var _reactJsxDevRuntime = require(_dependencyMap[10], \"react/jsx-dev-runtime\");\n  function RootLayout() {\n    const [isReady, setIsReady] = (0, _react.useState)(false);\n    const [webWarning, setWebWarning] = (0, _react.useState)(false);\n    const router = (0, _expoRouter.useRouter)();\n    const segments = (0, _expoRouter.useSegments)();\n    (0, _react.useEffect)(() => {\n      initializeApp();\n    }, []);\n    const initializeApp = async () => {\n      try {\n        // Skip SQLite initialization on web (WASM support is experimental)\n        if (Platform.default.OS === 'web') {\n          console.warn('⚠️ SQLite is not supported on web preview. Please test on iOS/Android device or emulator.');\n          setWebWarning(true);\n          setIsReady(true);\n          return;\n        }\n\n        // Initialize the local database\n        await _servicesDatabase.db.initialize();\n        console.log('✅ Database initialized in app');\n\n        // Check if migration is needed\n        const migrationCompleted = await AsyncStorage.default.getItem('migration_completed');\n        if (migrationCompleted !== 'true') {\n          // Show migration screen\n          router.replace('/migrate');\n        }\n        setIsReady(true);\n      } catch (error) {\n        console.error('App initialization error:', error);\n        setIsReady(true); // Continue anyway to show errors to user\n      }\n    };\n    if (!isReady) {\n      return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n        style: {\n          flex: 1,\n          justifyContent: 'center',\n          alignItems: 'center',\n          backgroundColor: '#f3f4f6'\n        },\n        children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ActivityIndicator.default, {\n          size: \"large\",\n          color: \"#2563eb\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }, this);\n    }\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_tamaguiCore.TamaguiProvider, {\n      config: tamaguiConfig.default,\n      children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNativeSafeAreaContext.SafeAreaProvider, {\n        children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack, {\n          screenOptions: {\n            headerShown: false\n          },\n          children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n            name: \"migrate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 11\n          }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n            name: \"(tabs)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }, this);\n  }\n});","lineCount":127,"map":[[13,2,10,15,"Object"],[13,8,10,15],[13,9,10,15,"defineProperty"],[13,23,10,15],[13,24,10,15,"exports"],[13,31,10,15],[14,4,10,15,"enumerable"],[14,14,10,15],[15,4,10,15,"get"],[15,7,10,15],[15,18,10,15,"get"],[15,19,10,15],[16,6,10,15],[16,13,10,15,"RootLayout"],[16,23,10,15],[17,4,10,15],[18,2,10,15],[19,2,1,0],[19,6,1,0,"_react"],[19,12,1,0],[19,15,1,0,"require"],[19,22,1,0],[19,23,1,0,"_dependencyMap"],[19,37,1,0],[20,2,2,0],[20,6,2,0,"_expoRouter"],[20,17,2,0],[20,20,2,0,"require"],[20,27,2,0],[20,28,2,0,"_dependencyMap"],[20,42,2,0],[21,2,3,0],[21,6,3,0,"_tamaguiCore"],[21,18,3,0],[21,21,3,0,"require"],[21,28,3,0],[21,29,3,0,"_dependencyMap"],[21,43,3,0],[22,2,4,0],[22,6,4,0,"_tamaguiConfig"],[22,20,4,0],[22,23,4,0,"require"],[22,30,4,0],[22,31,4,0,"_dependencyMap"],[22,45,4,0],[23,2,4,0],[23,6,4,0,"tamaguiConfig"],[23,19,4,0],[23,22,4,0,"_interopDefault"],[23,37,4,0],[23,38,4,0,"_tamaguiConfig"],[23,52,4,0],[24,2,5,0],[24,6,5,0,"_reactNativeSafeAreaContext"],[24,33,5,0],[24,36,5,0,"require"],[24,43,5,0],[24,44,5,0,"_dependencyMap"],[24,58,5,0],[25,2,5,66],[25,6,5,66,"_reactNativeWebDistExportsView"],[25,36,5,66],[25,39,5,66,"require"],[25,46,5,66],[25,47,5,66,"_dependencyMap"],[25,61,5,66],[26,2,5,66],[26,6,5,66,"View"],[26,10,5,66],[26,13,5,66,"_interopDefault"],[26,28,5,66],[26,29,5,66,"_reactNativeWebDistExportsView"],[26,59,5,66],[27,2,5,66],[27,6,5,66,"_reactNativeWebDistExportsActivityIndicator"],[27,49,5,66],[27,52,5,66,"require"],[27,59,5,66],[27,60,5,66,"_dependencyMap"],[27,74,5,66],[28,2,5,66],[28,6,5,66,"ActivityIndicator"],[28,23,5,66],[28,26,5,66,"_interopDefault"],[28,41,5,66],[28,42,5,66,"_reactNativeWebDistExportsActivityIndicator"],[28,85,5,66],[29,2,5,66],[29,6,5,66,"_reactNativeWebDistExportsPlatform"],[29,40,5,66],[29,43,5,66,"require"],[29,50,5,66],[29,51,5,66,"_dependencyMap"],[29,65,5,66],[30,2,5,66],[30,6,5,66,"Platform"],[30,14,5,66],[30,17,5,66,"_interopDefault"],[30,32,5,66],[30,33,5,66,"_reactNativeWebDistExportsPlatform"],[30,67,5,66],[31,2,7,0],[31,6,7,0,"_reactNativeAsyncStorageAsyncStorage"],[31,42,7,0],[31,45,7,0,"require"],[31,52,7,0],[31,53,7,0,"_dependencyMap"],[31,67,7,0],[32,2,7,0],[32,6,7,0,"AsyncStorage"],[32,18,7,0],[32,21,7,0,"_interopDefault"],[32,36,7,0],[32,37,7,0,"_reactNativeAsyncStorageAsyncStorage"],[32,73,7,0],[33,2,8,0],[33,6,8,0,"_servicesDatabase"],[33,23,8,0],[33,26,8,0,"require"],[33,33,8,0],[33,34,8,0,"_dependencyMap"],[33,48,8,0],[34,2,8,42],[34,6,8,42,"_reactJsxDevRuntime"],[34,25,8,42],[34,28,8,42,"require"],[34,35,8,42],[34,36,8,42,"_dependencyMap"],[34,50,8,42],[35,2,10,15],[35,11,10,24,"RootLayout"],[35,21,10,34,"RootLayout"],[35,22,10,34],[35,24,10,37],[36,4,11,2],[36,10,11,8],[36,11,11,9,"isReady"],[36,18,11,16],[36,20,11,18,"setIsReady"],[36,30,11,28],[36,31,11,29],[36,34,11,32],[36,38,11,32,"useState"],[36,44,11,40],[36,45,11,40,"useState"],[36,53,11,40],[36,55,11,41],[36,60,11,46],[36,61,11,47],[37,4,12,2],[37,10,12,8],[37,11,12,9,"webWarning"],[37,21,12,19],[37,23,12,21,"setWebWarning"],[37,36,12,34],[37,37,12,35],[37,40,12,38],[37,44,12,38,"useState"],[37,50,12,46],[37,51,12,46,"useState"],[37,59,12,46],[37,61,12,47],[37,66,12,52],[37,67,12,53],[38,4,13,2],[38,10,13,8,"router"],[38,16,13,14],[38,19,13,17],[38,23,13,17,"useRouter"],[38,34,13,26],[38,35,13,26,"useRouter"],[38,44,13,26],[38,46,13,27],[38,47,13,28],[39,4,14,2],[39,10,14,8,"segments"],[39,18,14,16],[39,21,14,19],[39,25,14,19,"useSegments"],[39,36,14,30],[39,37,14,30,"useSegments"],[39,48,14,30],[39,50,14,31],[39,51,14,32],[40,4,16,2],[40,8,16,2,"useEffect"],[40,14,16,11],[40,15,16,11,"useEffect"],[40,24,16,11],[40,26,16,12],[40,32,16,18],[41,6,17,4,"initializeApp"],[41,19,17,17],[41,20,17,18],[41,21,17,19],[42,4,18,2],[42,5,18,3],[42,7,18,5],[42,9,18,7],[42,10,18,8],[43,4,20,2],[43,10,20,8,"initializeApp"],[43,23,20,21],[43,26,20,24],[43,32,20,24,"initializeApp"],[43,33,20,24],[43,38,20,36],[44,6,21,4],[44,10,21,8],[45,8,22,6],[46,8,23,6],[46,12,23,10,"Platform"],[46,20,23,18],[46,21,23,18,"default"],[46,28,23,18],[46,29,23,19,"OS"],[46,31,23,21],[46,36,23,26],[46,41,23,31],[46,43,23,33],[47,10,24,8,"console"],[47,17,24,15],[47,18,24,16,"warn"],[47,22,24,20],[47,23,24,21],[47,114,24,112],[47,115,24,113],[48,10,25,8,"setWebWarning"],[48,23,25,21],[48,24,25,22],[48,28,25,26],[48,29,25,27],[49,10,26,8,"setIsReady"],[49,20,26,18],[49,21,26,19],[49,25,26,23],[49,26,26,24],[50,10,27,8],[51,8,28,6],[53,8,30,6],[54,8,31,6],[54,14,31,12,"db"],[54,31,31,14],[54,32,31,14,"db"],[54,34,31,14],[54,35,31,15,"initialize"],[54,45,31,25],[54,46,31,26],[54,47,31,27],[55,8,32,6,"console"],[55,15,32,13],[55,16,32,14,"log"],[55,19,32,17],[55,20,32,18],[55,51,32,49],[55,52,32,50],[57,8,34,6],[58,8,35,6],[58,14,35,12,"migrationCompleted"],[58,32,35,30],[58,35,35,33],[58,41,35,39,"AsyncStorage"],[58,53,35,51],[58,54,35,51,"default"],[58,61,35,51],[58,62,35,52,"getItem"],[58,69,35,59],[58,70,35,60],[58,91,35,81],[58,92,35,82],[59,8,37,6],[59,12,37,10,"migrationCompleted"],[59,30,37,28],[59,35,37,33],[59,41,37,39],[59,43,37,41],[60,10,38,8],[61,10,39,8,"router"],[61,16,39,14],[61,17,39,15,"replace"],[61,24,39,22],[61,25,39,23],[61,35,39,33],[61,36,39,34],[62,8,40,6],[63,8,42,6,"setIsReady"],[63,18,42,16],[63,19,42,17],[63,23,42,21],[63,24,42,22],[64,6,43,4],[64,7,43,5],[64,8,43,6],[64,15,43,13,"error"],[64,20,43,18],[64,22,43,20],[65,8,44,6,"console"],[65,15,44,13],[65,16,44,14,"error"],[65,21,44,19],[65,22,44,20],[65,49,44,47],[65,51,44,49,"error"],[65,56,44,54],[65,57,44,55],[66,8,45,6,"setIsReady"],[66,18,45,16],[66,19,45,17],[66,23,45,21],[66,24,45,22],[66,25,45,23],[66,26,45,24],[67,6,46,4],[68,4,47,2],[68,5,47,3],[69,4,49,2],[69,8,49,6],[69,9,49,7,"isReady"],[69,16,49,14],[69,18,49,16],[70,6,50,4],[70,26,51,6],[70,30,51,6,"_reactJsxDevRuntime"],[70,49,51,6],[70,50,51,6,"jsxDEV"],[70,56,51,6],[70,58,51,7,"View"],[70,62,51,11],[70,63,51,11,"default"],[70,70,51,11],[71,8,51,12,"style"],[71,13,51,17],[71,15,51,19],[72,10,51,21,"flex"],[72,14,51,25],[72,16,51,27],[72,17,51,28],[73,10,51,30,"justifyContent"],[73,24,51,44],[73,26,51,46],[73,34,51,54],[74,10,51,56,"alignItems"],[74,20,51,66],[74,22,51,68],[74,30,51,76],[75,10,51,78,"backgroundColor"],[75,25,51,93],[75,27,51,95],[76,8,51,105],[76,9,51,107],[77,8,51,107,"children"],[77,16,51,107],[77,31,52,8],[77,35,52,8,"_reactJsxDevRuntime"],[77,54,52,8],[77,55,52,8,"jsxDEV"],[77,61,52,8],[77,63,52,9,"ActivityIndicator"],[77,80,52,26],[77,81,52,26,"default"],[77,88,52,26],[78,10,52,27,"size"],[78,14,52,31],[78,16,52,32],[78,23,52,39],[79,10,52,40,"color"],[79,15,52,45],[79,17,52,46],[80,8,52,55],[81,10,52,55,"fileName"],[81,18,52,55],[81,20,52,55,"_jsxFileName"],[81,32,52,55],[82,10,52,55,"lineNumber"],[82,20,52,55],[83,10,52,55,"columnNumber"],[83,22,52,55],[84,8,52,55],[84,15,52,57],[85,6,52,58],[86,8,52,58,"fileName"],[86,16,52,58],[86,18,52,58,"_jsxFileName"],[86,30,52,58],[87,8,52,58,"lineNumber"],[87,18,52,58],[88,8,52,58,"columnNumber"],[88,20,52,58],[89,6,52,58],[89,13,53,12],[89,14,53,13],[90,4,55,2],[91,4,57,2],[91,24,58,4],[91,28,58,4,"_reactJsxDevRuntime"],[91,47,58,4],[91,48,58,4,"jsxDEV"],[91,54,58,4],[91,56,58,5,"_tamaguiCore"],[91,68,58,20],[91,69,58,20,"TamaguiProvider"],[91,84,58,20],[92,6,58,21,"config"],[92,12,58,27],[92,14,58,29,"tamaguiConfig"],[92,27,58,42],[92,28,58,42,"default"],[92,35,58,43],[93,6,58,43,"children"],[93,14,58,43],[93,29,59,6],[93,33,59,6,"_reactJsxDevRuntime"],[93,52,59,6],[93,53,59,6,"jsxDEV"],[93,59,59,6],[93,61,59,7,"_reactNativeSafeAreaContext"],[93,88,59,23],[93,89,59,23,"SafeAreaProvider"],[93,105,59,23],[94,8,59,23,"children"],[94,16,59,23],[94,31,60,8],[94,35,60,8,"_reactJsxDevRuntime"],[94,54,60,8],[94,55,60,8,"jsxDEV"],[94,61,60,8],[94,63,60,9,"_expoRouter"],[94,74,60,14],[94,75,60,14,"Stack"],[94,80,60,14],[95,10,60,15,"screenOptions"],[95,23,60,28],[95,25,60,30],[96,12,60,32,"headerShown"],[96,23,60,43],[96,25,60,45],[97,10,60,51],[97,11,60,53],[98,10,60,53,"children"],[98,18,60,53],[98,34,61,10],[98,38,61,10,"_reactJsxDevRuntime"],[98,57,61,10],[98,58,61,10,"jsxDEV"],[98,64,61,10],[98,66,61,11,"_expoRouter"],[98,77,61,16],[98,78,61,16,"Stack"],[98,83,61,16],[98,84,61,17,"Screen"],[98,90,61,23],[99,12,61,24,"name"],[99,16,61,28],[99,18,61,29],[100,10,61,38],[101,12,61,38,"fileName"],[101,20,61,38],[101,22,61,38,"_jsxFileName"],[101,34,61,38],[102,12,61,38,"lineNumber"],[102,22,61,38],[103,12,61,38,"columnNumber"],[103,24,61,38],[104,10,61,38],[104,17,61,40],[104,18,61,41],[104,33,62,10],[104,37,62,10,"_reactJsxDevRuntime"],[104,56,62,10],[104,57,62,10,"jsxDEV"],[104,63,62,10],[104,65,62,11,"_expoRouter"],[104,76,62,16],[104,77,62,16,"Stack"],[104,82,62,16],[104,83,62,17,"Screen"],[104,89,62,23],[105,12,62,24,"name"],[105,16,62,28],[105,18,62,29],[106,10,62,37],[107,12,62,37,"fileName"],[107,20,62,37],[107,22,62,37,"_jsxFileName"],[107,34,62,37],[108,12,62,37,"lineNumber"],[108,22,62,37],[109,12,62,37,"columnNumber"],[109,24,62,37],[110,10,62,37],[110,17,62,39],[110,18,62,40],[111,8,62,40],[112,10,62,40,"fileName"],[112,18,62,40],[112,20,62,40,"_jsxFileName"],[112,32,62,40],[113,10,62,40,"lineNumber"],[113,20,62,40],[114,10,62,40,"columnNumber"],[114,22,62,40],[115,8,62,40],[115,15,63,15],[116,6,63,16],[117,8,63,16,"fileName"],[117,16,63,16],[117,18,63,16,"_jsxFileName"],[117,30,63,16],[118,8,63,16,"lineNumber"],[118,18,63,16],[119,8,63,16,"columnNumber"],[119,20,63,16],[120,6,63,16],[120,13,64,24],[121,4,64,25],[122,6,64,25,"fileName"],[122,14,64,25],[122,16,64,25,"_jsxFileName"],[122,28,64,25],[123,6,64,25,"lineNumber"],[123,16,64,25],[124,6,64,25,"columnNumber"],[124,18,64,25],[125,4,64,25],[125,11,65,21],[125,12,65,22],[126,2,67,0],[127,0,67,1],[127,3]],"functionMap":{"names":["<global>","RootLayout","useEffect$argument_0","initializeApp"],"mappings":"AAA;eCS;YCM;GDE;wBEE;GF2B;CDoB"},"hasCjsExports":false},"type":"js/module"}]}